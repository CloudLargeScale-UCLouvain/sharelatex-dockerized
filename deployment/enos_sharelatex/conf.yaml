---
vagrant:
  backend: virtualbox
  resources:
    machines:
      - role: core
        flavor: medium
        number: 1
        networks: [n1]
      
      - roles:
          - edge 
          - edge1
        flavor: small
        number: 1
        networks: [n1]

      - roles:
          - edge 
          - edge2
        flavor: small
        number: 1
        networks: [n1]

      - roles:
          - edge 
          - edge3
        flavor: small
        number: 1
        networks: [n1]

      - roles:
          - edge 
          - edge4
        flavor: small
        number: 1
        networks: [n1]

traffic:
  enable: True
  default_delay: 25ms
  default_rate: 10gbit
  groups: ["core", "edge1", "edge2", "edge3", "edge4" ]
  # groups: ["core", "edge1" ]
  constraints:
    - src: edge1
      dst: edge2
      delay: 10ms
      symetric: True

    - src: edge2
      dst: edge3
      delay: 10ms
      symetric: True

    - src: edge1
      dst: edge3
      delay: 30ms
      symetric: True 
 
    - src: edge1
      dst: edge4
      delay: 50ms
      symetric: True

    - src: edge2
      dst: edge4
      delay: 50ms
      symetric: True

    - src: edge3
      dst: edge4
      delay: 50ms
      symetric: True  

g5k:
  walltime: 03:00:00
  resources:
    machines:
      - role: core
        cluster: paravance
        nodes: 1
        primary_network: n1
        secondary_networks: []
      - roles: [edge, edge1]
        cluster: paravance
        nodes: 1
        primary_network: n1
        secondary_networks: []
      - roles: [edge, edge2]
        cluster: paravance
        nodes: 1
        primary_network: n1
        secondary_networks: []
    networks:
      - id: n1
        type: prod
        role: my_network
        site: rennes
